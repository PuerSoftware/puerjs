<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	<script type="text/javascript">
		class PuerConstructor {
			define(name, f) {
				Object.defineProperty(this, name, {
					get: function() {
						console.log('start referencing')
						return f
					}
				})
			}
		}

		Puer = new PuerConstructor()

		Puer.define('div', (props, children=[]) => {
			console.log('creating div', props, children)
			console.log('end referencing')
		})

		function getValue() {
			console.log('Evaluating value')
			return 'bar'
		}
		$.div({foo: getValue()})
	</script>
</body>
</html>