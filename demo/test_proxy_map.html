<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <script
        src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous">
    </script>
	<title>Puer Demo</title>
</head>
<body>
    <a href="/">&laquo; Home</a>
	<h1>Puer Demo</h1>
	<div id="demo">
        <!-- button id="index-proxy-btn">Test Index Plugin</button -->
        <button id="decorator-proxy-btn">Test Decorator Plugin</button>
    </div>
	<script type="module">
		import TestProxyMap from './js/class.TestProxyMap.js'
        const testProxyMap = new TestProxyMap((prop, value) => {
			console.log(`New value for prop '${prop}'`, value)
        })
        $(document).ready(() => {
            $('#decorator-proxy-btn').click((btn) => {
				console.log('foo1',testProxyMap['foo1'])
				testProxyMap.set('foo3', 'bar3') //= 'bar3'
                testProxyMap.foo2 = 'changedFoo2' // not work and [] not work
                console.log('foo2', testProxyMap.foo2)
                console.log('foo3', testProxyMap.get('foo3'))
                //testProxyMap.set('setFoo4', 'bar4')
                console.log('has foo3', testProxyMap.has('foo3'))
                console.log('has foo4', testProxyMap.has('foo4'))
                //console.log('setFoo4', testProxyMap.get('setFoo4'))
            })
        })
	</script>
</body>
</html>